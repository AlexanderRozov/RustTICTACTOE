@echo off
echo ========================================
echo –°–±–æ—Ä–∫–∞ –≤–µ–±-–≤–µ—Ä—Å–∏–∏ —à–∞—à–µ–∫
echo ========================================
echo.

echo üåê –°–±–æ—Ä–∫–∞ WASM –≤–µ—Ä—Å–∏–∏...
cargo build --target wasm32-unknown-unknown

if %ERRORLEVEL% EQU 0 (
    echo ‚úÖ WASM —Å–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞!
    echo.
    echo üì¶ –£–ø–∞–∫–æ–≤–∫–∞ –¥–ª—è –≤–µ–±-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è...
    wasm-pack build --target web
    
    if %ERRORLEVEL% EQU 0 (
        echo ‚úÖ –í–µ–±-–ø–∞–∫–µ—Ç —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ!
        echo.
        echo üåê –û—Ç–∫—Ä–æ–π—Ç–µ checkers.html –≤ –±—Ä–∞—É–∑–µ—Ä–µ
    ) else (
        echo ‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-–ø–∞–∫–µ—Ç–∞!
    )
) else (
    echo ‚ùå –û—à–∏–±–∫–∞ WASM —Å–±–æ—Ä–∫–∏!
)

echo.
pause
